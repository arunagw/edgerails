if(!this.JSON)this.JSON={};
(function(){function a(e){return e<10?"0"+e:e}function d(e){g.lastIndex=0;return g.test(e)?'"'+e.replace(g,function(i){var j=q[i];return typeof j==="string"?j:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function b(e,i){var j,l,o=f,k,h=i[e];if(h&&typeof h==="object"&&typeof h.toJSON==="function")h=h.toJSON(e);if(typeof p==="function")h=p.call(i,e,h);switch(typeof h){case "string":return d(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);case "object":if(!h)return"null";
f+=m;k=[];if(Object.prototype.toString.apply(h)==="[object Array]"){l=h.length;for(e=0;e<l;e+=1)k[e]=b(e,h)||"null";i=k.length===0?"[]":f?"[\n"+f+k.join(",\n"+f)+"\n"+o+"]":"["+k.join(",")+"]";f=o;return i}if(p&&typeof p==="object"){l=p.length;for(e=0;e<l;e+=1){j=p[e];if(typeof j==="string")if(i=b(j,h))k.push(d(j)+(f?": ":":")+i)}}else for(j in h)if(Object.hasOwnProperty.call(h,j))if(i=b(j,h))k.push(d(j)+(f?": ":":")+i);i=k.length===0?"{}":f?"{\n"+f+k.join(",\n"+f)+"\n"+o+"}":"{"+k.join(",")+"}";
f=o;return i}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,m,q={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;if(typeof JSON.stringify!=="function")JSON.stringify=function(e,i,j){var l;m=f="";if(typeof j==="number")for(l=0;l<j;l+=1)m+=" ";else if(typeof j==="string")m=j;if((p=i)&&typeof i!=="function"&&(typeof i!=="object"||typeof i.length!=="number"))throw new Error("JSON.stringify");return b("",
{"":e})};if(typeof JSON.parse!=="function")JSON.parse=function(e,i){function j(l,o){var k,h,n=l[o];if(n&&typeof n==="object")for(k in n)if(Object.hasOwnProperty.call(n,k)){h=j(n,k);if(h!==undefined)n[k]=h;else delete n[k]}return i.call(l,o,n)}c.lastIndex=0;if(c.test(e))e=e.replace(c,function(l){return"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){e=eval("("+e+")");return typeof i==="function"?j({"":e},""):e}throw new SyntaxError("JSON.parse");}})();(function(){var a={};this.template=function d(b,c){b=!/\W/.test(b)?(a[b]=a[b]||d(b)):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+b.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return c?b(c):b}})();
(function(a){a.fn.applyTemplate=function(d){a(this).html(template(d.getTemplateBody(),d.getData()))}})(jQuery);jQuery.cookie=function(a,d,b){if(typeof d!="undefined"){b=b||{};if(d===null){d="";b.expires=-1}var c="";if(b.expires&&(typeof b.expires=="number"||b.expires.toUTCString)){if(typeof b.expires=="number"){c=new Date;c.setTime(c.getTime()+b.expires*24*60*60*1E3)}else c=b.expires;c="; expires="+c.toUTCString()}var g=b.path?"; path="+b.path:"",f=b.domain?"; domain="+b.domain:"";b=b.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(d),c,g,f,b].join("")}else{d=null;if(document.cookie&&document.cookie!=
""){b=document.cookie.split(";");for(c=0;c<b.length;c++){g=jQuery.trim(b[c]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}}return d}};function prettyDate(a){a=new Date((a||"").replace(/-/g,"/").replace(/[TZ]/g," "));a=((new Date).getTime()-a.getTime())/1E3;var d=Math.floor(a/86400);if(!(isNaN(d)||d<0||d>=31))return d==0&&(a<60&&"just now"||a<120&&"1 minute ago"||a<3600&&Math.floor(a/60)+" minutes ago"||a<7200&&"1 hour ago"||a<86400&&Math.floor(a/3600)+" hours ago")||d==1&&"1 day ago"||d<7&&d+" days ago"||d<31&&Math.ceil(d/7)+" weeks ago"}
if(typeof jQuery!="undefined")jQuery.fn.prettyDate=function(){return this.each(function(){var a=prettyDate(this.title);a&&jQuery(this).text(a)})};(function(a){a.fn.twitterize=function(c){var g=a(this),f=b();f?g.applyTweets(f):a.getJSON("http://search.twitter.com/search.json?callback=?",{rpp:3,page:1,lang:"en",q:c},function(m){d(m);g.applyTweets(m)})};a.fn.applyTweets=function(c){var g=a(this);g.applyTemplate({getTemplateBody:function(){return a(g.attr("template")).html()},getData:function(){return c}})};var d=function(c){a.cookie("_tweets",JSON.stringify(c),{expires:1})},b=function(){return(cookieData=a.cookie("_tweets"))?JSON.parse(cookieData):
null}})(jQuery);(function(a){a.fn.feedme=function(){a(this).each(function(c,g){var f=a(g);if(c=b(f.cookieName()))f.applyFeed(c);else{c=new google.feeds.Feed(f.attr("feed"));c.setNumEntries(3);c.load(function(m){d(m,f.cookieName());f.applyFeed(m)})}})};a.fn.applyFeed=function(c){var g=a(this);g.applyTemplate({getTemplateBody:function(){return a(g.attr("template")).html()},getData:function(){return c}})};a.fn.cookieName=function(){return a(this).attr("id")+"_feed"};var d=function(c,g){a.cookie(g,JSON.stringify(c),
{expires:1})},b=function(c){return(cookieData=a.cookie(c))?JSON.parse(cookieData):null}})(jQuery);(function(a){a.googleSearch=function(d,b){var c=a.extend({version:"1.0",type:"web",query:d},b);d=a.extend({v:c.version,q:c.query},c.urlParams);a.getJSON("http://ajax.googleapis.com/ajax/services/search/"+c.type+"?callback=?&",d,function(g){c.callback(g.responseData)})}})(jQuery);(function(a){a.fn.enableSearch=function(){var d=a(this),b=a(d.attr("results")),c=d.attr("cse");d.submit(function(){var g=d.find("input.search_field").attr("value");a.googleSearch(g,{callback:function(f){b.show();b.applySearchResults(f)},urlParams:{cx:c}});return false})};a.fn.applySearchResults=function(d){var b=a(this);b.applyTemplate({getTemplateBody:function(){return a(b.attr("template")).html()},getData:function(){return d}})}})(jQuery);